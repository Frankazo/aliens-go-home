(this["webpackJsonpaliens-go-home"]=this["webpackJsonpaliens-go-home"]||[]).push([[0],{22:function(e,t,n){e.exports=n(35)},33:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(5),r=n.n(o),l=n(8),c=n(6),s=(n(33),n(15)),u=n(16),f=n(7),d=n(21),m=n(20),y=function(e){var t=e.initialAxis,n=e.initialControlPoint,a=e.endingControlPoint,i=e.endingAxis;return"\n    M".concat(t.x," ").concat(t.y,"\n    c ").concat(n.x," ").concat(n.y,"\n    ").concat(a.x," ").concat(a.y,"\n    ").concat(i.x," ").concat(i.y,"\n  ")},g=function(e){return 180*e/Math.PI},x=function(e,t,n,a){if(n>=0&&a>=0)return 90;if(n<0&&a>=0)return-90;var i=(n-e)/(a-t);return-1*g(Math.atan(i))},h=function(e){return e*Math.PI/180},p=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,i=-1*n+90,o=g(Math.cos(h(i)))/a,r=g(Math.sin(h(i)))/a;return{x:e+o,y:t-r}},v=[-400,-300,-150,150,300,-400],E=function(){return i.a.createElement("rect",{style:{fill:"#30abef"},x:-2500,y:-1100,width:5e3,height:1200})},O=function(){return i.a.createElement("g",{id:"ground"},i.a.createElement("rect",{id:"ground-2","data-name":"ground",style:{fill:"#59a941"},x:-2500,y:0,width:5e3,height:100}),i.a.createElement("line",{x1:-2500,y1:0,x2:2500,y2:0,style:{stroke:"#458232",strokeWidth:"3px"}}))},b=function(e){var t={fill:"#a16012",stroke:"#75450e",strokeWidth:"2px"},n={initialAxis:{x:-50,y:70},initialControlPoint:{x:40,y:-70},endingControlPoint:{x:60,y:-70},endingAxis:{x:100,y:0}};return i.a.createElement("g",null,i.a.createElement("path",{style:t,d:y(n)}),i.a.createElement("line",{x1:-50,y1:70,x2:50,y2:70,style:t}))},w=function(e){var t={fill:"#999",stroke:"#666",strokeWidth:"2px"},n="rotate(".concat(e.rotation,", 0, 0)"),a={initialAxis:{x:-20,y:-70},initialControlPoint:{x:-40,y:170},endingControlPoint:{x:80,y:170},endingAxis:{x:40,y:0}};return i.a.createElement("g",{transform:n},i.a.createElement("path",{style:t,d:y(a)}),i.a.createElement("line",{x1:-20,y1:-70,x2:20,y2:-70,style:t}))},S=function(e){return i.a.createElement("ellipse",{style:{fill:"#777",stroke:"#444",strokeWidth:"1.5px"},cx:e.position.x,cy:e.position.y,rx:"18",ry:"18"})},j=function(e){return i.a.createElement("g",{filter:"url(#shadow)"},i.a.createElement("text",{style:{fontFamily:'"Joti One", cursive',fontSize:80,fill:"#d6d33e"},x:"400",y:"80"},e.score))},k=n(10),P=function(e){return i.a.createElement("ellipse",{cx:e.position.x,cy:e.position.y,rx:"40",ry:"10",style:{fill:"#979797",stroke:"#5c5c5c"}})},A=function(e){var t={initialAxis:{x:e.position.x-20,y:e.position.y},initialControlPoint:{x:10,y:-25},endingControlPoint:{x:30,y:-25},endingAxis:{x:40,y:0}};return i.a.createElement("path",{style:{fill:"#b6b6b6",stroke:"#7d7d7d"},d:y(t)})},C=n(11);function M(){var e=Object(k.a)(["\n  animation: "," 4s linear;\n"]);return M=function(){return e},e}function T(){var e=Object(k.a)(["\n  0% {\n    transform: translateY(0);\n  }\n  100% {\n    transform: translateY(","px);\n  }\n"]);return T=function(){return e},e}var D=Object(C.b)(T(),1200),W=C.a.g(M(),D),_=function(e){return i.a.createElement(W,null,i.a.createElement(P,{position:e.position}),i.a.createElement(A,{position:e.position}))},B=function(e){var t={fill:"#da0d15",stroke:"#a51708",strokeWidth:"2px"},n={initialAxis:{x:e.position.x,y:e.position.y},initialControlPoint:{x:-20,y:-20},endingControlPoint:{x:-40,y:10},endingAxis:{x:0,y:40}},a={initialAxis:{x:e.position.x,y:e.position.y},initialControlPoint:{x:20,y:-20},endingControlPoint:{x:40,y:10},endingAxis:{x:0,y:40}};return i.a.createElement("g",{filter:"url(#shadow)"},i.a.createElement("path",{style:t,d:y(n)}),i.a.createElement("path",{style:t,d:y(a)}))},I=function(e){var t={x:-400,y:-280,width:800,height:200,rx:10,ry:10,style:{fill:"transparent",cursor:"pointer"},onClick:e.onClick},n={textAnchor:"middle",x:0,y:-150,style:{fontFamily:'"Joti One", cursive',fontSize:60,fill:"#e3e3e3",cursor:"pointer"},onClick:e.onClick};return i.a.createElement("g",{filter:"url(#shadow)"},i.a.createElement("rect",t),i.a.createElement("text",n,"Tap To Start!"))},G=n(1),H=function(){var e={fontFamily:'"Joti One", cursive',fontSize:120,fill:"#cbca62"},t={initialAxis:{x:-190,y:-950},initialControlPoint:{x:95,y:-50},endingControlPoint:{x:285,y:-50},endingAxis:{x:380,y:0}},n=Object(G.a)(Object(G.a)({},t),{},{initialAxis:{x:-250,y:-780},initialControlPoint:{x:125,y:-90},endingControlPoint:{x:375,y:-90},endingAxis:{x:500,y:0}});return i.a.createElement("g",{filter:"url(#shadow)"},i.a.createElement("defs",null,i.a.createElement("path",{id:"AliensPath",d:y(t)}),i.a.createElement("path",{id:"GoHomePath",d:y(n)})),i.a.createElement("text",e,i.a.createElement("textPath",{xlinkHref:"#AliensPath"},"Aliens,")),i.a.createElement("text",e,i.a.createElement("textPath",{xlinkHref:"#GoHomePath"},"Go Home!")))},R=function(e){for(var t=[window.innerWidth/-2,-1100,window.innerWidth,1200],n=[],a=0;a<e.gameState.lives;a++){var o={x:-180-70*a,y:35};n.push(i.a.createElement(B,{key:a,position:o}))}return i.a.createElement("svg",{id:"aliens-go-home-canvas",preserveAspectRatio:"xMaxYMax none",onMouseMove:e.trackMouse,viewBox:t,onClick:e.shoot},i.a.createElement("defs",null,i.a.createElement("filter",{id:"shadow"},i.a.createElement("feDropShadow",{dx:"1",dy:"1",stdDeviation:"2"}))),i.a.createElement(E,null),i.a.createElement(O,null),e.gameState.cannonBalls.map((function(e){return i.a.createElement(S,{key:e.id,position:e.position})})),i.a.createElement(w,{rotation:e.angle}),i.a.createElement(b,null),!e.gameState.started&&i.a.createElement("g",null,i.a.createElement(I,{onClick:function(){return e.startGame()}}),i.a.createElement(H,null)),e.gameState.started&&i.a.createElement("g",null,e.gameState.flyingObjects.map((function(e){return i.a.createElement(_,{key:e.id,position:e.position})})),n),i.a.createElement(j,{score:e.gameState.kills}))};R.defaultProps={currentPlayer:null,players:null};var J=R,N=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).shoot=a.shoot.bind(Object(f.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){e.props.moveObjects(e.canvasMousePosition)}),10),window.onresize=function(){var e=document.getElementById("aliens-go-home-canvas");e.style.width="".concat(window.innerWidth,"px"),e.style.height="".concat(window.innerHeight,"px")},window.onresize()}},{key:"trackMouse",value:function(e){this.canvasMousePosition=function(e){var t=document.getElementById("aliens-go-home-canvas"),n=t.createSVGPoint();n.x=e.clientX,n.y=e.clientY;var a=n.matrixTransform(t.getScreenCTM().inverse());return{x:a.x,y:a.y}}(e)}},{key:"shoot",value:function(){this.props.shoot(this.canvasMousePosition)}},{key:"render",value:function(){var e=this;return i.a.createElement(J,{angle:this.props.angle,gameState:this.props.gameState,startGame:this.props.startGame,trackMouse:function(t){return e.trackMouse(t)},shoot:this.shoot})}}]),n}(a.Component);N.defaultProps={currentPlayer:null,players:null};var z=N,U=Object(l.b)((function(e){return{angle:e.angle,gameState:e.gameState,currentPlayer:e.currentPlayer,players:e.players}}),(function(e){return{moveObjects:function(t){e(function(e){return{type:"MOVE_OBJECTS",mousePosition:e}}(t))},startGame:function(){e({type:"START_GAME"})},shoot:function(t){e(function(e){return{type:"SHOOT",mousePosition:e}}(t))}}}))(z),V=n(3),X=function(e){return e.filter((function(e){return e.position.y>-800&&e.position.x>-500&&e.position.x<500})).map((function(e){var t=e.position,n=t.x,a=t.y,i=e.angle;return Object(G.a)(Object(G.a)({},e),{},{position:p(n,a,i,5)})}))},L=function(e,t){var n=[];return t.forEach((function(t){var a=(new Date).getTime()-t.createdAt,i=t.position.x,o=t.position.y+a/4e3*1200,r={x1:i-40,y1:o-10,x2:i+40,y2:o+10};e.forEach((function(e){var a={x1:e.position.x-8,y1:e.position.y-8,x2:e.position.x+8,y2:e.position.y+8};(function(e,t){return e.x1<t.x2&&e.x2>t.x1&&e.y1<t.y2&&e.y2>t.y1})(r,a)&&n.push({cannonBallId:e.id,flyingDiscId:t.id})}))})),n};var Y=function(e,t){if(!e.gameState.started)return e;var n=X(e.gameState.cannonBalls),a=t.mousePosition||{x:0,y:0},i=function(e){if(!e.gameState.started)return e;var t=(new Date).getTime(),n=e.gameState,a=n.lastObjectCreatedAt,i=n.flyingObjects;if(!(t-a.getTime()>1e3&&i.length<6))return e;var o=(new Date).getTime(),r=Math.floor(6*Math.random()),l={position:{x:v[r],y:-1100},createdAt:(new Date).getTime(),id:o};return Object(G.a)(Object(G.a)({},e),{},{gameState:Object(G.a)(Object(G.a)({},e.gameState),{},{flyingObjects:[].concat(Object(V.a)(e.gameState.flyingObjects),[l]),lastObjectCreatedAt:new Date})})}(e),o=(new Date).getTime(),r=i.gameState.flyingObjects.filter((function(e){return o-e.createdAt<4e3})),l=e.gameState.flyingObjects.length>r.length,c=e.gameState.lives;l&&c--;var s=c>0;s||(r=[],n=[],c=3);var u=a.x,f=a.y,d=x(0,0,u,f),m=L(n,r),y=m.map((function(e){return e.cannonBallId})),g=m.map((function(e){return e.flyingDiscId}));n=n.filter((function(e){return y.indexOf(e.id)})),r=r.filter((function(e){return g.indexOf(e.id)}));var h=e.gameState.kills+g.length;return Object(G.a)(Object(G.a)({},i),{},{gameState:Object(G.a)(Object(G.a)({},i.gameState),{},{flyingObjects:r,cannonBalls:Object(V.a)(n),lives:c,started:s,kills:h}),angle:d})},F=function(e,t){return Object(G.a)(Object(G.a)({},e),{},{gameState:Object(G.a)(Object(G.a)({},t),{},{started:!0})})};var $=function(e,t){if(!e.gameState.started)return e;var n=e.gameState.cannonBalls;if(4===n.length)return e;var a=t.mousePosition,i=a.x,o=a.y,r={position:{x:0,y:0},angle:x(0,0,i,o),id:(new Date).getTime()};return Object(G.a)(Object(G.a)({},e),{},{gameState:Object(G.a)(Object(G.a)({},e.gameState),{},{cannonBalls:[].concat(Object(V.a)(n),[r])})})},q={started:!1,kills:0,lives:5,flyingObjects:[],lastObjectCreatedAt:new Date,currentPlayer:null,players:null,cannonBalls:[]},K={angle:45,gameState:q};var Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOVE_OBJECTS":return Y(e,t);case"START_GAME":return F(e,q);case"SHOOT":return $(e,t);default:return e}},Z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ee(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var te=Object(c.b)(Q,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(i.a.createElement(l.a,{store:te},i.a.createElement(U,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/aliens-go-home",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/aliens-go-home","/service-worker.js");Z?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ee(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ee(t,e)}))}}()}},[[22,1,2]]]);
//# sourceMappingURL=main.beaf0216.chunk.js.map